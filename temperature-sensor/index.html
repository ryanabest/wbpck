<!doctype html><head><title>Real-Time Temperature Sensor</title><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="description" content="data viz + code + design. currently viz journalist at FiveThirtyEight."><link rel="icon" href="../favicon.png"><script defer="defer" src="../main.9baaba9263719d455556.js"></script><link href="../main.1b6daf5a0b9bbc054618.css" rel="stylesheet"></head><body><div class="menu" id="menu"><div id="top-menu"><div class="menu-item" id="name"><a href="/"><p id="first-name">ryan</p><div class="logo"></div><p id="last-name">best</p></a></div><div class="menu-item" id="menu-links"><a class="menu-link" id="work" href="/">work</a><a class="menu-link" id="about" href="/about/">about</a></div></div></div><div class="content"><div class="project-content" id="project-content-intro"><h1>Real-Time Temperature Sensor</h1><p>This visualization compares the fluctuation of temperature inside my windowsill in Brooklyn with the temperature outside.</p></div><div class="project-image"><div class="video-wrapper" style="padding:56.18% 0 0 0;position:relative;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="https://player.vimeo.com/video/311099018?autoplay=1&amp;loop=1&amp;autopause=0&amp;title=0&amp;byline=0&amp;portrait=0&amp;autopause=0" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="autoplay"></iframe></div><script src="https://player.vimeo.com/api/player.js"></script></div><div class="project-content"><h1>Process</h1><p><strong>Audience: </strong>Parsons Data Structures Course</p><p><strong>Data Source: </strong>Inside temperature from a real-time temperature sensor connected to a <a class="underline" href="https://www.particle.io/">Particle breadboard</a>, from which I collect temperature readings every 30 seconds. Outside temperature from <a class="underline" href="https://darksky.net/dev">Dark Sky API</a>, from which I collect hourly and daily weather data at the end of each day. Both data sources are stored in an AWS RDS&nbsp;database</p><p><strong>Tools: </strong>AWS EC2 / AWS RDS / CSS / d3 / Express / Handlebars / Heroku / HTML / JavaScript / Node / PM2 / PostgreSQL</p><p><a class="see-link underline" href="https://github.com/ryanabest/data-structures/tree/master/final">See the code →</a></p></div><div class="project-content"><h1>Data</h1><h2>Inside Temperature</h2><div class="swiper-container"><div class="swiper-wrapper"><div class="swiper-slide"><img src="../assets/process1.ecf309edf9b094d560b2.JPG"><p class="process-text">I measured the inside temperature in my windowsill using a <a class="underline" href="https://store.particle.io/collections/photon">Particle Photon Kit</a> ...</p></div><div class="swiper-slide"><img src="../assets/process2.f270e3474a2dec38c36a.JPG"><p class="process-text">...which I hooked up to a temperature sensor...</p></div><div class="swiper-slide"><img src="../assets/process3.331a575ca5d300fbfad9.JPG"><p class="process-text">...and placed right inside my windowsill, where I figured any dramatic outside temperature changes or weather events would be most likely to affect the temperature inside.</p></div></div><div class="swiper-pagination"></div><div class="swiper-button-prev"></div><div class="swiper-button-next"></div></div><p>After setting up the latest reading coming from my temperature sensor to be accessible through the <a class="underline" href="https://docs.particle.io/reference/api/">Particle Cloud API</a>, I established an ongoing process in <a class="underline" href="http://pm2.keymetrics.io/">PM2</a> and <a class="underline" href="https://aws.amazon.com/ec2/">AWS EC2</a> to execute a <a class="underline" href="https://github.com/ryanabest/data-structures/blob/master/week9/particle.js">node script</a> that pulled down these temperature values into an AWS PostgreSQL database every 30 seconds. Since this temperature sensor was a bit finnicky, I then averaged these values per hour to get representative averages for use in the front-end interface.</p><p>For hours with data gaps — either due to missing (due to Particle outages or process issues) or unreliable data (when my sensor started giving me <a class="underline" href="https://raw.githubusercontent.com/ryanabest/data-structures/master/final/READMEs/images/EveryValueSpread.png">particularly buggy results</a>) — I estimated temperature readings by linearly progressing values between the two last reliable data points on either side of the outage:</p><img src="../assets/process4.c7d8e907e908f183b087.jpg"><h2>Outside Temperature</h2><p>Using the <a class="underline" href="https://elements.heroku.com/addons/scheduler">Heroku Scheduler</a> tool, I executed a <a class="underline" href="https://github.com/ryanabest/ds-particle-heroku/blob/master/darksky.js">node script</a> that connects to Dark Sky's Time Machine API and writes hourly and daily weather data to AWS PostgreSQL tables at the end of each day (at 12:30 AM). This data pull includes a multitude of helpful data points on the day's weather, including the hourly temperature readings used in my front-end visualization.</p><p>I collected both inside and outside temperature for almost two months — from November 8th to December 31st, 2018.</p></div><div class="project-content"><h1>Visualization</h1></div><div class="project-image"><img src="../assets/visualization1.5030ecf218088d745cf6.png"></div><div class="project-content"><p>My visualization implements a <a class="underline" href="https://flowingdata.com/charttype/difference-chart/">difference chart</a>, which fills in the space between lines to highlight a greater-than and less-than differences over time.</p></div><div class="project-image"><img src="../assets/visualization2.b3fabb7c330789215352.png"></div><div class="project-content"><p>I also include a responsive hover-over user interaction that provides details on the specific inside temperature (with a designation for estimated temperatures), outside temperature, and difference between the two at any point in the timeframe visualized.</p></div><div class="next-project"><div class="project" id="aa-meeting-finder"><div class="project-title"><p class="eyebrow">--Parsons--</p><p class="title">Alcoholics Anonymous Meeting Finder</p></div><a class="project-img-link" href="/aa-meeting-finder/"><img src="../assets/aa-meeting-finder.9006ffd06153530f474e.png"></a></div><a class="next-project-link see-link underline" href="/aa-meeting-finder/">See my next project →</a><p>Like this project? Want to get in touch? <a class="underline" href="mailto:ryanabest@gmail.com">Reach out!</a></p></div></div><div class="social-thumbnails"><a href="https://twitter.com/ryanabest"><img class="default twitter-thumb" src="../assets/twitter.b15248c5158f8c15a3c9.png"><img class="hover twitter-thumb" src="../assets/twitter-highlight.266e9024c1d908ce1359.png"></a><a href="https://www.linkedin.com/in/ryan-best-03722482/"><img class="default linkedin-thumb" src="../assets/linkedin.e033da14b581b7cbb0f0.png"><img class="hover linkedin-thumb" src="../assets/linkedin-highlight.337de599c193dad6b39b.png"></a><a href="https://github.com/ryanabest"><img class="default github-thumb" src="../assets/github.71d69e6b2dd992d12558.png"><img class="hover github-thumb" src="../assets/github-highlight.bcee82251fd6b8f7d5a1.png"></a><a href="https://fivethirtyeight.com/contributors/ryan-best/"><img class="default fivethirtyeight-thumb" src="../assets/fivethirtyeight.789c896524d3e432aa04.png"><img class="hover fivethirtyeight-thumb" src="../assets/fivethirtyeight-highlight.3228259930a64a7d2162.png"></a></div></body>